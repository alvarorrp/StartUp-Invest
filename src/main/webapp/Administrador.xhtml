<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>

<h:body>
	<div class="title"
	style="
	text-align: center;

	font-family:Arial, sans-serif;">
		<h1>¡StartUpInvest te da la bienvenida Administrador!</h1>
	</div>
	<div class="container">

		<!-- CATEGORÍA DE STARTUPS-->
		<h2>Categorías de Startups</h2>
		<h:form>
			<div class="card">
				<p:growl id="messages" showDetail="true" />

				<p:dataTable id="categoryDataTable"
					widgetVar="categoryDataTableWidget" var="category"
					value="#{categoryView.categories}"
					selection="#{categoryView.categoriesSelected}" reflow="true"
					rowKey="#{category.id}" paginator="true" paginatorPosition="bottom"
					rows="3" sortMode="single" allowUnsorting="true">

					<f:facet name="header">
						<div class="table-header">
							<span style="font-weight: bold">CATEGORIES</span> <span
								class="filter-container ui-input-icon-left"> <i
								class="pi pi-search"></i> <p:inputText id="globalSearch"
									value="#{categoryView.categorySearch.name}"
									placeholder="Search" />
							</span>
							<p:commandButton value="Search" icon="pi pi-check"
								actionListener="#{categoryView.searchCategory}"
								update="categoryDataTable" process="globalSearch @this"
								style="
								margin-left:10px;
								margin-right:10px;" />

							<p:commandButton value="Clean" icon="pi pi-check"
								actionListener="#{categoryView.getAllCategory}"
								update="categoryDataTable" process="@this" />

						</div>
					</f:facet>

					<p:column selectionMode="Multiple"
						style="width:16px;text-align:center" />

					<p:column headerText="Id" sortBy="#{category.id}">
						<h:outputText value="#{category.id}" />
					</p:column>
					<p:column headerText="Name" sortBy="#{category.name}">
						<h:outputText value="#{category.name}" />
					</p:column>

					<p:column>
						<p:commandButton icon="pi pi-pencil"
							oncomplete="PF('categoryDialog').show()"
							styleClass="edit-button rounded-button ui-button-success"
							update="@form:category-content" process="@this">
							<f:setPropertyActionListener value="#{category}"
								target="#{categoryView.categorySelected}" />
							<p:resetInput target="@form:category-content" />
						</p:commandButton>
						<!-- ERROR BOTON -->
						<p:commandButton icon="pi pi-trash" style="margin-left: 10px;"
							styleClass="rounded-button ui-button-danger" process="@this"
							oncomplete="PF('deleteDialogCategory').show()">
							<f:setPropertyActionListener value="#{category}"
								target="#{categoryView.categorySelected}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">
						<p:commandButton process="categoryDataTable" value="New"
							icon="pi pi-check"
							actionListener="#{categoryView.createNewCategory}"
							update="@form:category-content"
							oncomplete="PF('categoryDialog').show()"
							styleClass="ui-button-raised ui-button-success" />
					</f:facet>
				</p:dataTable>
			</div>
			<p:dialog header="Category" widgetVar="categoryDialog" modal="true"
				showEffect="fade" minHeight="300" width="300" responsive="true">
				<p:outputPanel id="category-content" class="ui-fluid">
					<div class="p-field">
						<p:outputLabel for="name">Name</p:outputLabel>
						<p:inputText id="name"
							value="#{categoryView.categorySelected.name}" required="true" />
					</div>
				</p:outputPanel>
				<f:facet name="footer">
					<p:commandButton value="Save" icon="pi pi-check"
						actionListener="#{categoryView.saveCategory}"
						update="category-content categoryDataTable"
						process="category-content @this" />
					<p:commandButton value="Cancel" icon="pi pi-times"
						onclick="PF('categoryDialog').hide()" class="ui-button-secondary" />
				</f:facet>
			</p:dialog>
			<p:confirmDialog id="Category" widgetVar="deleteDialogCategory"
				showEffect="fade" width="300" message="Delete the item?"
				header="Confirm" severity="warn">
				<p:commandButton value="Yes" icon="pi pi-check"
					actionListener="#{categoryView.deleteCategory}" process="@this"
					oncomplete="PF('deleteDialogCategory').hide()"
					update="categoryDataTable @form:messages" />
				<p:commandButton value="No" type="button"
					styleClass="ui-button-secondary" icon="pi pi-times"
					onclick="PF('deleteDialogCategory').hide()" />
			</p:confirmDialog>
		</h:form>

	</div>


	<!-- PLANES DE PROMOCIÓN-->
	<div class="container">
		<h2>Planes</h2>
		<h:form>
			<div class="card">
				<p:growl id="messages" showDetail="true" />

				<p:dataTable id="planDataTable" widgetVar="planDataTableWidget"
					var="plan" value="#{planView.plans}"
					selection="#{planView.plansSelected}" reflow="true"
					rowKey="#{plan.id}" paginator="true" paginatorPosition="bottom"
					rows="3" sortMode="single" allowUnsorting="true">

					<f:facet name="header">
						<div class="table-header">
							<span style="font-weight: bold">PLANS</span> <span
								class="filter-container ui-input-icon-left"> <i
								class="pi pi-search"></i> <p:inputText id="globalSearch"
									value="#{planView.planSearch.name}" placeholder="Search" />
							</span>
							<p:commandButton value="Search" icon="pi pi-check"
								actionListener="#{planView.searchPlan}" update="planDataTable"
								process="globalSearch @this"
								style="
								margin-left:10px;
								margin-right:10px;"  />
								
							<p:commandButton value="Clean" icon="pi pi-check"
								actionListener="#{planView.getAllPlan}" update="planDataTable"
								process="@this" />

						</div>
					</f:facet>

					<p:column selectionMode="Multiple"
						style="width:16px;text-align:center" />

					<p:column headerText="Id" sortBy="#{plan.id}">
						<h:outputText value="#{plan.id}" />
					</p:column>
					<p:column headerText="Name" sortBy="#{plan.name}">
						<h:outputText value="#{plan.name}" />
					</p:column>

					<p:column headerText="Monto" sortBy="#{plan.amount}">
						<h:outputText value="#{plan.amount}" />
					</p:column>

					<p:column>
						<p:commandButton icon="pi pi-pencil"
							oncomplete="PF('planDialog').show()"
							styleClass="edit-button rounded-button ui-button-success"
							update="@form:plan-content" process="@this">
							<f:setPropertyActionListener value="#{plan}"
								target="#{planView.planSelected}" />
							<p:resetInput target="@form:plan-content" />
						</p:commandButton>
						<p:commandButton icon="pi pi-trash" style="margin-left: 10px;"
							styleClass="rounded-button ui-button-danger" process="@this"
							oncomplete="PF('deleteDialogPlan').show()">
							<f:setPropertyActionListener value="#{plan}"
								target="#{planView.planSelected}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">

						<p:commandButton process="planDataTable" value="New"
							icon="pi pi-check" actionListener="#{planView.createNewPlan}"
							update="@form:plan-content" oncomplete="PF('planDialog').show()"
							styleClass="ui-button-raised ui-button-success" />

					</f:facet>
				</p:dataTable>
			</div>
			<p:dialog header="Plan" widgetVar="planDialog" modal="true"
				showEffect="fade" minHeight="300" width="300" responsive="true">
				<p:outputPanel id="plan-content" class="ui-fluid">
					<div class="p-field">
						<p:outputLabel for="name">Name</p:outputLabel>
						<p:inputText id="name" value="#{planView.planSelected.name}"
							required="true" />
					</div>

					<div class="p-field">
						<p:outputLabel for="name">Monto</p:outputLabel>
						<p:inputText id="monto" value="#{planView.planSelected.amount}"
							required="true" />
					</div>
				</p:outputPanel>


				<f:facet name="footer">
					<p:commandButton value="Save" icon="pi pi-check"
						actionListener="#{planView.savePlan}"
						update="plan-content planDataTable" process="plan-content @this" />
					<p:commandButton value="Cancel" icon="pi pi-times"
						onclick="PF('planDialog').hide()" class="ui-button-secondary" />
				</f:facet>
			</p:dialog>
			<p:confirmDialog id="pruebaPlan" widgetVar="deleteDialogPlan"
				showEffect="fade" width="300" message="Delete the item?"
				header="Confirm" severity="warn">
				<p:commandButton value="Yes" icon="pi pi-check"
					actionListener="#{planView.deletePlan}" process="@this"
					oncomplete="PF('deleteDialogPlan').hide()"
					update="planDataTable @form:messages" />

				<p:commandButton value="No" type="button"
					styleClass="ui-button-secondary" icon="pi pi-times"
					onclick="PF('deleteDialogPlan').hide()" />
			</p:confirmDialog>
		</h:form>
	</div>

<!-- TIPOS DE INVERSIÓN -->




</h:body>
</html>